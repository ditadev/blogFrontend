{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@auth0/angular-jwt\";\nimport * as i2 from \"src/app/services/api.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"../nav-bar/nav-bar.component\";\nfunction FeedsComponent_div_2_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 19)(1, \"div\", 20)(2, \"div\", 21);\n    i0.ɵɵelement(3, \"img\", 22);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 23)(5, \"blockquote\", 24)(6, \"p\", 25);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"footer\", 14)(9, \"p\", 26)(10, \"span\", 27);\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(12, \"br\");\n    i0.ɵɵelementStart(13, \"span\", 28);\n    i0.ɵɵtext(14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"span\", 28);\n    i0.ɵɵtext(16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"span\", 28);\n    i0.ɵɵtext(18);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"time\", 28);\n    i0.ɵɵtext(20);\n    i0.ɵɵpipe(21, \"date\");\n    i0.ɵɵelementEnd()()()()()()();\n  }\n  if (rf & 2) {\n    const article_r2 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate1(\"routerLink\", \"/article/\", article_r2.postId, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate1(\"src\", \"http://localhost:5259/static/images/\", article_r2.coverImagePath, \"\", i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\"\", article_r2.title, \" \");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(article_r2.summary);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"Author: \", article_r2.authorsName, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Category: \", article_r2.category.categoryName, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Tags: \", article_r2.tags, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(21, 8, article_r2.dateCreated, \"dd/MM/yyyy hh:mm a\"));\n  }\n}\nfunction FeedsComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 17);\n    i0.ɵɵtemplate(1, FeedsComponent_div_2_div_1_Template, 22, 11, \"div\", 18);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.articles);\n  }\n}\nexport class FeedsComponent {\n  constructor(jwtHelper, apiService, router) {\n    this.jwtHelper = jwtHelper;\n    this.apiService = apiService;\n    this.router = router;\n    this.articles = [];\n  }\n  ngOnInit() {\n    this.subscription = this.apiService.getArticles().subscribe(response => {\n      this.articles = response.data;\n    });\n  }\n  isUserAuthenticated() {\n    const token = localStorage.getItem(\"jwt\");\n    if (token && !this.jwtHelper.isTokenExpired(token)) {\n      return true;\n    } else {\n      this.router.navigate([\"login\"]);\n      return false;\n    }\n  }\n  ngOnDestroy() {\n    if (this.subscription) {\n      this.subscription.unsubscribe();\n    }\n  }\n}\nFeedsComponent.ɵfac = function FeedsComponent_Factory(t) {\n  return new (t || FeedsComponent)(i0.ɵɵdirectiveInject(i1.JwtHelperService), i0.ɵɵdirectiveInject(i2.ApiService), i0.ɵɵdirectiveInject(i3.Router));\n};\nFeedsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: FeedsComponent,\n  selectors: [[\"app-feeds\"]],\n  decls: 24,\n  vars: 1,\n  consts: [[\"class\", \"bg-black\", 4, \"ngIf\"], [1, \"bg-white\", \"pt-16\", \"lg:py-24\"], [1, \"bg-indigo-600\", \"pb-16\", \"lg:relative\", \"lg:z-10\", \"lg:pb-0\"], [1, \"lg:mx-auto\", \"lg:grid\", \"lg:max-w-7xl\", \"lg:grid-cols-3\", \"lg:gap-8\", \"lg:px-8\"], [1, \"relative\", \"lg:-my-8\"], [\"aria-hidden\", \"true\", 1, \"absolute\", \"inset-x-0\", \"top-0\", \"h-1/2\", \"bg-white\", \"lg:hidden\"], [1, \"mx-auto\", \"max-w-md\", \"px-6\", \"sm:max-w-3xl\", \"lg:h-full\", \"lg:p-0\"], [1, \"aspect-w-10\", \"aspect-h-6\", \"overflow-hidden\", \"rounded-xl\", \"shadow-xl\", \"sm:aspect-w-16\", \"sm:aspect-h-7\", \"lg:aspect-none\", \"lg:h-full\"], [\"src\", \"https://images.unsplash.com/photo-1520333789090-1afc82db536a?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=2102&q=80\", \"alt\", \"\", 1, \"object-cover\", \"lg:h-full\", \"lg:w-full\"], [1, \"mt-12\", \"lg:col-span-2\", \"lg:m-0\", \"lg:pl-8\"], [1, \"mx-auto\", \"max-w-md\", \"px-6\", \"sm:max-w-2xl\", \"lg:max-w-none\", \"lg:px-0\", \"lg:py-20\"], [\"fill\", \"currentColor\", \"viewBox\", \"0 0 32 32\", \"aria-hidden\", \"true\", 1, \"h-12\", \"w-12\", \"text-white\", \"opacity-25\"], [\"d\", \"M9.352 4C4.456 7.456 1 13.12 1 19.36c0 5.088 3.072 8.064 6.624 8.064 3.36 0 5.856-2.688 5.856-5.856 0-3.168-2.208-5.472-5.088-5.472-.576 0-1.344.096-1.536.192.48-3.264 3.552-7.104 6.624-9.024L9.352 4zm16.512 0c-4.8 3.456-8.256 9.12-8.256 15.36 0 5.088 3.072 8.064 6.624 8.064 3.264 0 5.856-2.688 5.856-5.856 0-3.168-2.304-5.472-5.184-5.472-.576 0-1.248.096-1.44.192.48-3.264 3.456-7.104 6.528-9.024L25.864 4z\"], [1, \"mt-6\", \"text-2xl\", \"font-medium\", \"text-white\"], [1, \"mt-6\"], [1, \"text-base\", \"font-medium\", \"text-white\"], [1, \"text-base\", \"font-medium\", \"text-indigo-100\"], [1, \"bg-black\"], [\"class\", \"bg-black rounded-md pt-2 lg:py-6\", 4, \"ngFor\", \"ngForOf\"], [1, \"bg-black\", \"rounded-md\", \"pt-2\", \"lg:py-6\"], [1, \"relative\", \"overflow-hidden\", \"rounded-xl\", \"bg-gradient-to-r\", \"from-teal-500\", \"to-cyan-600\", \"py-3\", \"px-6\", \"font-medium\", \"text-white\", \"shadow\", \"hover:from-teal-600\", \"hover:to-cyan-700\", \"focus:outline-none\", \"focus:ring-2\", \"focus:ring-cyan-400\", \"focus:ring-offset-2\", \"focus:ring-offset-gray-900\", \"py-24\", \"px-8\", \"shadow-2xl\", \"lg:grid\", \"lg:grid-cols-2\", \"lg:gap-x-8\", \"lg:px-16\", 3, \"routerLink\"], [1, \"absolute\", \"inset-0\", \"opacity-50\", \"mix-blend-multiply\", \"saturate-0\", \"filter\"], [\"alt\", \"\", 1, \"h-full\", \"w-full\", \"object-cover\", 3, \"src\"], [1, \"relative\", \"lg:col-span-1\"], [1, \"mt-6\", \"text-white\"], [1, \"mt-2\", \"text-3xl\", \"font-bold\", \"tracking-tight\", \"text-white\", \"sm:text-2xl\"], [1, \"flex\", \"flex-col\", \"font-medium\"], [1, \"text-base\", \"text-gray-200\", \"sm:text-xl\", \"lg:text-lg\", \"xl:text-xl\"], [1, \"text-sm\", \"font-medium\", \"text-white\"]],\n  template: function FeedsComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelement(0, \"app-nav-bar\");\n      i0.ɵɵelementStart(1, \"div\");\n      i0.ɵɵtemplate(2, FeedsComponent_div_2_Template, 2, 1, \"div\", 0);\n      i0.ɵɵelementStart(3, \"div\", 1)(4, \"div\", 2)(5, \"div\", 3)(6, \"div\", 4);\n      i0.ɵɵelement(7, \"div\", 5);\n      i0.ɵɵelementStart(8, \"div\", 6)(9, \"div\", 7);\n      i0.ɵɵelement(10, \"img\", 8);\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(11, \"div\", 9)(12, \"div\", 10)(13, \"blockquote\")(14, \"div\");\n      i0.ɵɵnamespaceSVG();\n      i0.ɵɵelementStart(15, \"svg\", 11);\n      i0.ɵɵelement(16, \"path\", 12);\n      i0.ɵɵelementEnd();\n      i0.ɵɵnamespaceHTML();\n      i0.ɵɵelementStart(17, \"p\", 13);\n      i0.ɵɵtext(18, \"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed urna nulla vitae laoreet augue. Amet feugiat est integer dolor auctor adipiscing nunc urna, sit.\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(19, \"footer\", 14)(20, \"p\", 15);\n      i0.ɵɵtext(21, \"Judith Black\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(22, \"p\", 16);\n      i0.ɵɵtext(23, \"CEO at PureInsights\");\n      i0.ɵɵelementEnd()()()()()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.isUserAuthenticated());\n    }\n  },\n  dependencies: [i4.NgForOf, i4.NgIf, i3.RouterLink, i5.NavBarComponent, i4.DatePipe],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":";;;;;;;;IAGIA,+BAA+E;IAI/DA,0BAC8C;IAClDA,iBAAM;IACNA,+BAAoC;IAE6CA,YACzE;IAAAA,iBAAI;IACJA,kCAAqB;IAE2DA,aAAmB;IAAAA,iBAAO;IAClGA,sBAAK;IACLA,iCAA6C;IAAAA,aAA+B;IAAAA,iBAAO;IACnFA,iCAA6C;IAAAA,aAA2C;IAAAA,iBAAO;IAC/FA,iCAA6C;IAAAA,aAAsB;IAAAA,iBAAO;IAC1EA,iCAA6C;IAAAA,aAAqD;;IAAAA,iBAAO;;;;IAjBxHA,eAAwC;IAAxCA,2EAAwC;IAGhCA,eAAoE;IAApEA,yHAAoE;IAKIA,eACzE;IADyEA,gDACzE;IAGgFA,eAAmB;IAAnBA,wCAAmB;IAE9CA,eAA+B;IAA/BA,6DAA+B;IAC/BA,eAA2C;IAA3CA,yEAA2C;IAC3CA,eAAsB;IAAtBA,oDAAsB;IACtBA,eAAqD;IAArDA,yFAAqD;;;;;IAnBlIA,+BAAqD;IACjDA,wEAwBU;IACVA,iBAAM;;;;IAzBmBA,eAAW;IAAXA,yCAAW;;;ACSxC,OAAM,MAAOC,cAAc;EAOzBC,YACUC,SAA2B,EAC3BC,UAAqB,EACrBC,MAAc;IAFd,cAAS,GAATF,SAAS;IACT,eAAU,GAAVC,UAAU;IACV,WAAM,GAANC,MAAM;IALhB,aAAQ,GAAY,EAAE;EAMnB;EAEHC,QAAQ;IACN,IAAI,CAACC,YAAY,GAAG,IAAI,CAACH,UAAU,CAClCI,WAAW,EAAE,CACbC,SAAS,CACRC,QAAQ,IAAG;MACT,IAAI,CAACC,QAAQ,GAAGD,QAAQ,CAACE,IAAI;IACjC,CAAC,CAAC;EACJ;EAEAC,mBAAmB;IACjB,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,KAAK,CAAC;IACzC,IAAIF,KAAK,IAAI,CAAC,IAAI,CAACX,SAAS,CAACc,cAAc,CAACH,KAAK,CAAC,EAAE;MAClD,OAAO,IAAI;KACZ,MACI;MACH,IAAI,CAACT,MAAM,CAACa,QAAQ,CAAC,CAAC,OAAO,CAAC,CAAC;MAC/B,OAAO,KAAK;;EAEhB;EAEAC,WAAW;IACT,IAAI,IAAI,CAACZ,YAAY,EAAE;MACrB,IAAI,CAACA,YAAY,CAACa,WAAW,EAAE;;EAEnC;;AArCWnB,cAAc;mBAAdA,cAAc;AAAA;AAAdA,cAAc;QAAdA,cAAc;EAAAoB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MDZ3BzB,8BAA2B;MAC3BA,2BAAK;MACLA,+DA0BU;MAINA,8BAAqC;MAI3BA,yBAAwF;MACxFA,8BAAiE;MAE7DA,0BAAkM;MACpMA,iBAAM;MAGVA,+BAAgD;MAIxCA,mBAAwG;MAAxGA,gCAAwG;MACtGA,4BAAqa;MACvaA,iBAAM;MACNA,oBAAgD;MAAhDA,8BAAgD;MAAAA,8KAA6J;MAAAA,iBAAI;MAEnNA,mCAAqB;MACyBA,6BAAY;MAAAA,iBAAI;MAC5DA,8BAAiD;MAAAA,oCAAmB;MAAAA,iBAAI;;;MApDtFA,eAA2B;MAA3BA,gDAA2B","names":["i0","FeedsComponent","constructor","jwtHelper","apiService","router","ngOnInit","subscription","getArticles","subscribe","response","articles","data","isUserAuthenticated","token","localStorage","getItem","isTokenExpired","navigate","ngOnDestroy","unsubscribe","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["/Users/abb/sources/inyakaabraham/Hobby-Project/blogFrontend/src/app/components/feeds/feeds.component.html","/Users/abb/sources/inyakaabraham/Hobby-Project/blogFrontend/src/app/components/feeds/feeds.component.ts"],"sourcesContent":["<app-nav-bar></app-nav-bar>\n<div>\n<div *ngIf=\"isUserAuthenticated()\" class=\"bg-black\" >\n    <div *ngFor=\"let article of articles\" class=\"bg-black rounded-md pt-2 lg:py-6\">\n            <div routerLink=\"/article/{{article.postId}}\"\n                class=\"relative overflow-hidden rounded-xl bg-gradient-to-r from-teal-500 to-cyan-600 py-3 px-6 font-medium text-white shadow hover:from-teal-600 hover:to-cyan-700 focus:outline-none focus:ring-2 focus:ring-cyan-400 focus:ring-offset-2 focus:ring-offset-gray-900 py-24 px-8 shadow-2xl lg:grid lg:grid-cols-2 lg:gap-x-8 lg:px-16\">\n                <div class=\"absolute inset-0 opacity-50 mix-blend-multiply saturate-0 filter\">\n                    <img src=\"http://localhost:5259/static/images/{{article.coverImagePath}}\"\n                        alt=\"\" class=\"h-full w-full object-cover\">\n                </div>\n                <div class=\"relative lg:col-span-1\">\n                    <blockquote class=\"mt-6 text-white\">\n                        <p class=\"mt-2 text-3xl font-bold tracking-tight text-white sm:text-2xl\">{{article.title}}\n                        </p>\n                        <footer class=\"mt-6\">\n                            <p class=\"flex flex-col font-medium\">\n                                <span class=\"text-base  text-gray-200 sm:text-xl lg:text-lg xl:text-xl\">{{article.summary}}</span>\n                                <br/>\n                                <span class=\"text-sm font-medium text-white\">Author: {{article.authorsName}}</span>\n                                <span class=\"text-sm font-medium text-white\">Category: {{article.category.categoryName}}</span>\n                                <span class=\"text-sm font-medium text-white\">Tags: {{article.tags}}</span>\n                                <time class=\"text-sm font-medium text-white\">{{article.dateCreated | date : 'dd/MM/yyyy hh:mm a'}}</time>\n                            </p>\n                        </footer>\n                    </blockquote>\n                </div>\n            </div>\n        </div>\n    </div>\n\n\n\n    <div class=\"bg-white pt-16 lg:py-24\">\n        <div class=\"bg-indigo-600 pb-16 lg:relative lg:z-10 lg:pb-0\">\n          <div class=\"lg:mx-auto lg:grid lg:max-w-7xl lg:grid-cols-3 lg:gap-8 lg:px-8\">\n            <div class=\"relative lg:-my-8\">\n              <div aria-hidden=\"true\" class=\"absolute inset-x-0 top-0 h-1/2 bg-white lg:hidden\"></div>\n              <div class=\"mx-auto max-w-md px-6 sm:max-w-3xl lg:h-full lg:p-0\">\n                <div class=\"aspect-w-10 aspect-h-6 overflow-hidden rounded-xl shadow-xl sm:aspect-w-16 sm:aspect-h-7 lg:aspect-none lg:h-full\">\n                  <img class=\"object-cover lg:h-full lg:w-full\" src=\"https://images.unsplash.com/photo-1520333789090-1afc82db536a?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=2102&q=80\" alt=\"\">\n                </div>\n              </div>\n            </div>\n            <div class=\"mt-12 lg:col-span-2 lg:m-0 lg:pl-8\">\n              <div class=\"mx-auto max-w-md px-6 sm:max-w-2xl lg:max-w-none lg:px-0 lg:py-20\">\n                <blockquote>\n                  <div>\n                    <svg class=\"h-12 w-12 text-white opacity-25\" fill=\"currentColor\" viewBox=\"0 0 32 32\" aria-hidden=\"true\">\n                      <path d=\"M9.352 4C4.456 7.456 1 13.12 1 19.36c0 5.088 3.072 8.064 6.624 8.064 3.36 0 5.856-2.688 5.856-5.856 0-3.168-2.208-5.472-5.088-5.472-.576 0-1.344.096-1.536.192.48-3.264 3.552-7.104 6.624-9.024L9.352 4zm16.512 0c-4.8 3.456-8.256 9.12-8.256 15.36 0 5.088 3.072 8.064 6.624 8.064 3.264 0 5.856-2.688 5.856-5.856 0-3.168-2.304-5.472-5.184-5.472-.576 0-1.248.096-1.44.192.48-3.264 3.456-7.104 6.528-9.024L25.864 4z\" />\n                    </svg>\n                    <p class=\"mt-6 text-2xl font-medium text-white\">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed urna nulla vitae laoreet augue. Amet feugiat est integer dolor auctor adipiscing nunc urna, sit.</p>\n                  </div>\n                  <footer class=\"mt-6\">\n                    <p class=\"text-base font-medium text-white\">Judith Black</p>\n                    <p class=\"text-base font-medium text-indigo-100\">CEO at PureInsights</p>\n                  </footer>\n                </blockquote>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>","import { Component, OnDestroy, OnInit } from '@angular/core';\nimport { JwtHelperService } from '@auth0/angular-jwt';\nimport { ApiService } from 'src/app/services/api.service';\nimport { Subscription } from 'rxjs';\nimport { BlogPost } from 'src/app/models/blogPost';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-feeds',\n  templateUrl: './feeds.component.html',\n  styleUrls: ['./feeds.component.css']\n})\nexport class FeedsComponent implements OnInit, OnDestroy  {\n\n  id!:number;\n  name!:string;\n  subscription?: Subscription;\n  articles:BlogPost[]=[];\n\n  constructor(\n    private jwtHelper: JwtHelperService, \n    private apiService:ApiService,\n    private router: Router\n  ) {}\n\n  ngOnInit(){\n    this.subscription = this.apiService\n    .getArticles()\n    .subscribe(\n      response => {\n        this.articles = response.data;\n    });\n  }\n\n  isUserAuthenticated() {\n    const token = localStorage.getItem(\"jwt\");\n    if (token && !this.jwtHelper.isTokenExpired(token)) {\n      return true;\n    }\n    else {\n      this.router.navigate([\"login\"]);\n      return false;\n    }\n  }\n\n  ngOnDestroy(): void {\n    if (this.subscription) {\n      this.subscription.unsubscribe();\n    }\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}