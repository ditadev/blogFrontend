{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@auth0/angular-jwt\";\nimport * as i2 from \"src/app/services/api.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"../nav-bar/nav-bar.component\";\nfunction FeedsComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 2)(1, \"div\", 3)(2, \"div\", 4)(3, \"div\", 5);\n    i0.ɵɵelement(4, \"img\", 6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 7)(6, \"blockquote\", 8)(7, \"p\", 9);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"footer\", 10)(10, \"p\", 11)(11, \"span\");\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"span\");\n    i0.ɵɵtext(14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"time\");\n    i0.ɵɵtext(16);\n    i0.ɵɵpipe(17, \"date\");\n    i0.ɵɵelementEnd()()()()()()()();\n  }\n  if (rf & 2) {\n    const article_r1 = ctx.$implicit;\n    i0.ɵɵadvance(8);\n    i0.ɵɵtextInterpolate1(\"\", article_r1.summary, \" \");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(article_r1.title);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(article_r1.authorsName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(17, 4, article_r1.dateCreated, \"dd/MM/yyyy hh:mm a\"));\n  }\n}\nexport class FeedsComponent {\n  constructor(jwtHelper, apiService) {\n    this.jwtHelper = jwtHelper;\n    this.apiService = apiService;\n    this.articles = [];\n  }\n  ngOnInit() {\n    this.subscription = this.apiService.getArticles().subscribe(response => {\n      this.articles = response.data;\n    });\n  }\n  isUserAuthenticated() {\n    const token = localStorage.getItem(\"jwt\");\n    if (token && !this.jwtHelper.isTokenExpired(token)) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n  ngOnDestroy() {\n    if (this.subscription) {\n      this.subscription.unsubscribe();\n    }\n  }\n}\nFeedsComponent.ɵfac = function FeedsComponent_Factory(t) {\n  return new (t || FeedsComponent)(i0.ɵɵdirectiveInject(i1.JwtHelperService), i0.ɵɵdirectiveInject(i2.ApiService));\n};\nFeedsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: FeedsComponent,\n  selectors: [[\"app-feeds\"]],\n  decls: 3,\n  vars: 1,\n  consts: [[1, \"bg-black\"], [\"class\", \"bg-black rounded-md pt-2 lg:py-6\", 4, \"ngFor\", \"ngForOf\"], [1, \"bg-black\", \"rounded-md\", \"pt-2\", \"lg:py-6\"], [1, \"relative\", \"mx-auto\", \"max-w-7xl\", \"px-6\", \"lg:px-8\"], [1, \"relative\", \"overflow-hidden\", \"rounded-xl\", \"bg-gradient-to-r\", \"from-teal-500\", \"to-cyan-600\", \"py-3\", \"px-6\", \"font-medium\", \"text-white\", \"shadow\", \"hover:from-teal-600\", \"hover:to-cyan-700\", \"focus:outline-none\", \"focus:ring-2\", \"focus:ring-cyan-400\", \"focus:ring-offset-2\", \"focus:ring-offset-gray-900\", \"py-24\", \"px-8\", \"shadow-2xl\", \"lg:grid\", \"lg:grid-cols-2\", \"lg:gap-x-8\", \"lg:px-16\"], [1, \"absolute\", \"inset-0\", \"opacity-50\", \"mix-blend-multiply\", \"saturate-0\", \"filter\"], [\"src\", \"https://images.unsplash.com/photo-1492724441997-5dc865305da7?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1679&q=80\", \"alt\", \"\", 1, \"h-full\", \"w-full\", \"object-cover\"], [1, \"relative\", \"lg:col-span-1\"], [1, \"mt-6\", \"text-white\"], [1, \"text-xl\", \"font-medium\", \"sm:text-2xl\"], [1, \"mt-6\"], [1, \"flex\", \"flex-col\", \"font-medium\"]],\n  template: function FeedsComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelement(0, \"app-nav-bar\");\n      i0.ɵɵelementStart(1, \"div\", 0);\n      i0.ɵɵtemplate(2, FeedsComponent_div_2_Template, 18, 7, \"div\", 1);\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngForOf\", ctx.articles);\n    }\n  },\n  dependencies: [i3.NgForOf, i4.NavBarComponent, i3.DatePipe],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":";;;;;;;IAEIA,8BAA+E;IAK/DA,yBAC8C;IAClDA,iBAAM;IACNA,8BAAoC;IAEeA,YAC3C;IAAAA,iBAAI;IACJA,kCAAqB;IAEPA,aAAiB;IAAAA,iBAAO;IAC9BA,6BAAM;IAAAA,aAAuB;IAAAA,iBAAO;IAGpCA,6BAAM;IAAAA,aAAqD;;IAAAA,iBAAO;;;;IAR/BA,eAC3C;IAD2CA,kDAC3C;IAGcA,eAAiB;IAAjBA,sCAAiB;IACjBA,eAAuB;IAAvBA,4CAAuB;IAGvBA,eAAqD;IAArDA,yFAAqD;;;ACR3F,OAAM,MAAOC,cAAc;EAOzBC,YACUC,SAA2B,EAC3BC,UAAqB;IADrB,cAAS,GAATD,SAAS;IACT,eAAU,GAAVC,UAAU;IAJpB,aAAQ,GAAY,EAAE;EAKnB;EAEHC,QAAQ;IACN,IAAI,CAACC,YAAY,GAAG,IAAI,CAACF,UAAU,CAClCG,WAAW,EAAE,CACbC,SAAS,CACRC,QAAQ,IAAG;MACT,IAAI,CAACC,QAAQ,GAAGD,QAAQ,CAACE,IAAI;IACjC,CAAC,CAAC;EACJ;EAEAC,mBAAmB;IACjB,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,KAAK,CAAC;IACzC,IAAIF,KAAK,IAAI,CAAC,IAAI,CAACV,SAAS,CAACa,cAAc,CAACH,KAAK,CAAC,EAAE;MAClD,OAAO,IAAI;KACZ,MACI;MACH,OAAO,KAAK;;EAEhB;EAEAI,WAAW;IACT,IAAI,IAAI,CAACX,YAAY,EAAE;MACrB,IAAI,CAACA,YAAY,CAACY,WAAW,EAAE;;EAEnC;;AAnCWjB,cAAc;mBAAdA,cAAc;AAAA;AAAdA,cAAc;QAAdA,cAAc;EAAAkB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MDZ3BvB,8BAA2B;MAC3BA,8BAAsB;MAClBA,gEA2BM;MACVA,iBAAM;;;MA5BuBA,eAAW;MAAXA,sCAAW","names":["i0","FeedsComponent","constructor","jwtHelper","apiService","ngOnInit","subscription","getArticles","subscribe","response","articles","data","isUserAuthenticated","token","localStorage","getItem","isTokenExpired","ngOnDestroy","unsubscribe","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["/Users/abb/sources/inyakaabraham/Hobby-Project/blogFrontend/src/app/components/feeds/feeds.component.html","/Users/abb/sources/inyakaabraham/Hobby-Project/blogFrontend/src/app/components/feeds/feeds.component.ts"],"sourcesContent":["<app-nav-bar></app-nav-bar>\n<div class=\"bg-black\">\n    <div *ngFor=\"let article of articles\" class=\"bg-black rounded-md pt-2 lg:py-6\">\n        <div class=\"relative mx-auto max-w-7xl px-6 lg:px-8\">\n            <div\n                class=\"relative overflow-hidden rounded-xl bg-gradient-to-r from-teal-500 to-cyan-600 py-3 px-6 font-medium text-white shadow hover:from-teal-600 hover:to-cyan-700 focus:outline-none focus:ring-2 focus:ring-cyan-400 focus:ring-offset-2 focus:ring-offset-gray-900 py-24 px-8 shadow-2xl lg:grid lg:grid-cols-2 lg:gap-x-8 lg:px-16\">\n                <div class=\"absolute inset-0 opacity-50 mix-blend-multiply saturate-0 filter\">\n                    <img src=\"https://images.unsplash.com/photo-1492724441997-5dc865305da7?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1679&q=80\"\n                        alt=\"\" class=\"h-full w-full object-cover\">\n                </div>\n                <div class=\"relative lg:col-span-1\">\n                    <blockquote class=\"mt-6 text-white\">\n                        <p class=\"text-xl font-medium sm:text-2xl\">{{article.summary}}\n                        </p>\n                        <footer class=\"mt-6\">\n                            <p class=\"flex flex-col font-medium\">\n                                <span>{{article.title}}</span>\n                                <span>{{article.authorsName}}</span>\n                                <!-- <time datetime={{article.dateCreated}}></time> -->\n\n                                <time>{{article.dateCreated | date : 'dd/MM/yyyy hh:mm a'}}</time>\n\n\n                            </p>\n                        </footer>\n                    </blockquote>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>","import { Component, OnDestroy, OnInit } from '@angular/core';\nimport { JwtHelperService } from '@auth0/angular-jwt';\nimport { ApiService } from 'src/app/services/api.service';\nimport { Subscription } from 'rxjs';\nimport { Article } from 'src/app/models/article';\nimport { BlogPost } from 'src/app/models/blogPost';\n\n@Component({\n  selector: 'app-feeds',\n  templateUrl: './feeds.component.html',\n  styleUrls: ['./feeds.component.css']\n})\nexport class FeedsComponent implements OnDestroy  {\n\n  id!:number;\n  name!:string;\n  subscription?: Subscription;\n  articles:BlogPost[]=[];\n\n  constructor(\n    private jwtHelper: JwtHelperService, \n    private apiService:ApiService\n  ) {}\n\n  ngOnInit(){\n    this.subscription = this.apiService\n    .getArticles()\n    .subscribe(\n      response => {\n        this.articles = response.data;\n    });\n  }\n\n  isUserAuthenticated() {\n    const token = localStorage.getItem(\"jwt\");\n    if (token && !this.jwtHelper.isTokenExpired(token)) {\n      return true;\n    }\n    else {\n      return false;\n    }\n  }\n\n  ngOnDestroy(): void {\n    if (this.subscription) {\n      this.subscription.unsubscribe();\n    }\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}