{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@auth0/angular-jwt\";\nimport * as i2 from \"src/app/services/api.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"../nav-bar/nav-bar.component\";\nexport class MyArticlesComponent {\n  constructor(jwtHelper, apiService, router) {\n    this.jwtHelper = jwtHelper;\n    this.apiService = apiService;\n    this.router = router;\n    this.articles = [];\n  }\n  ngOnInit() {\n    const token = localStorage.getItem(\"jwt\");\n    if (token) {\n      this.id = this.jwtHelper.decodeToken(token).sub;\n    } else {\n      this.router.navigate([\"login\"]);\n    }\n    this.subscription = this.apiService.getArticlesByAuthor(this.id).subscribe(response => {\n      this.articles = response.data;\n    });\n  }\n  isUserAuthenticated() {\n    const token = localStorage.getItem(\"jwt\");\n    if (token && !this.jwtHelper.isTokenExpired(token)) {\n      return true;\n    } else {\n      this.router.navigate([\"login\"]);\n      return false;\n    }\n  }\n  ngOnDestroy() {\n    if (this.subscription) {\n      this.subscription.unsubscribe();\n    }\n  }\n}\nMyArticlesComponent.ɵfac = function MyArticlesComponent_Factory(t) {\n  return new (t || MyArticlesComponent)(i0.ɵɵdirectiveInject(i1.JwtHelperService), i0.ɵɵdirectiveInject(i2.ApiService), i0.ɵɵdirectiveInject(i3.Router));\n};\nMyArticlesComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: MyArticlesComponent,\n  selectors: [[\"app-my-articles\"]],\n  decls: 13,\n  vars: 0,\n  consts: [[\"role\", \"list\", 1, \"grid\", \"grid-cols-2\", \"gap-x-4\", \"gap-y-8\", \"sm:grid-cols-3\", \"sm:gap-x-6\", \"lg:grid-cols-4\", \"xl:gap-x-8\"], [1, \"relative\"], [1, \"group\", \"aspect-w-10\", \"aspect-h-7\", \"block\", \"w-full\", \"overflow-hidden\", \"rounded-lg\", \"bg-gray-100\", \"focus-within:ring-2\", \"focus-within:ring-indigo-500\", \"focus-within:ring-offset-2\", \"focus-within:ring-offset-gray-100\"], [\"src\", \"https://images.unsplash.com/photo-1582053433976-25c00369fc93?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=512&q=80\", \"alt\", \"\", 1, \"pointer-events-none\", \"object-cover\", \"group-hover:opacity-75\"], [\"type\", \"button\", 1, \"absolute\", \"inset-0\", \"focus:outline-none\"], [1, \"sr-only\"], [1, \"pointer-events-none\", \"mt-2\", \"block\", \"truncate\", \"text-sm\", \"font-medium\", \"text-gray-900\"], [1, \"pointer-events-none\", \"block\", \"text-sm\", \"font-medium\", \"text-gray-500\"]],\n  template: function MyArticlesComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelement(0, \"app-nav-bar\");\n      i0.ɵɵelementStart(1, \"div\")(2, \"ul\", 0)(3, \"li\", 1)(4, \"div\", 2);\n      i0.ɵɵelement(5, \"img\", 3);\n      i0.ɵɵelementStart(6, \"button\", 4)(7, \"span\", 5);\n      i0.ɵɵtext(8, \"View details for IMG_4985.HEIC\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(9, \"p\", 6);\n      i0.ɵɵtext(10, \"IMG_4985.HEIC\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(11, \"p\", 7);\n      i0.ɵɵtext(12, \"3.9 MB\");\n      i0.ɵɵelementEnd()()()();\n    }\n  },\n  dependencies: [i4.NavBarComponent],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":";;;;;AAYA,OAAM,MAAOA,mBAAmB;EAM9BC,YACUC,SAA2B,EAC3BC,UAAqB,EACrBC,MAAc;IAFd,cAAS,GAATF,SAAS;IACT,eAAU,GAAVC,UAAU;IACV,WAAM,GAANC,MAAM;IALhB,aAAQ,GAAY,EAAE;EAMnB;EAEHC,QAAQ;IACN,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,KAAK,CAAC;IACzC,IAAIF,KAAK,EAAE;MACT,IAAI,CAACG,EAAE,GAAG,IAAI,CAACP,SAAS,CAACQ,WAAW,CAACJ,KAAK,CAAC,CAACK,GAAG;KAChD,MAAM;MACL,IAAI,CAACP,MAAM,CAACQ,QAAQ,CAAC,CAAC,OAAO,CAAC,CAAC;;IAEjC,IAAI,CAACC,YAAY,GAAG,IAAI,CAACV,UAAU,CAClCW,mBAAmB,CAAC,IAAI,CAACL,EAAE,CAAC,CAC5BM,SAAS,CACRC,QAAQ,IAAG;MACT,IAAI,CAACC,QAAQ,GAAGD,QAAQ,CAACE,IAAI;IACjC,CAAC,CAAC;EACJ;EAEAC,mBAAmB;IACjB,MAAMb,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,KAAK,CAAC;IACzC,IAAIF,KAAK,IAAI,CAAC,IAAI,CAACJ,SAAS,CAACkB,cAAc,CAACd,KAAK,CAAC,EAAE;MAClD,OAAO,IAAI;KACZ,MACI;MACH,IAAI,CAACF,MAAM,CAACQ,QAAQ,CAAC,CAAC,OAAO,CAAC,CAAC;MAC/B,OAAO,KAAK;;EAEhB;EAEAS,WAAW;IACT,IAAI,IAAI,CAACR,YAAY,EAAE;MACrB,IAAI,CAACA,YAAY,CAACS,WAAW,EAAE;;EAEnC;;AA1CWtB,mBAAmB;mBAAnBA,mBAAmB;AAAA;AAAnBA,mBAAmB;QAAnBA,mBAAmB;EAAAuB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCZhCC,8BAA2B;MAC3BA,2BAAK;MA8BWA,yBAAkP;MAClPA,iCAAkE;MAC1CA,8CAA8B;MAAAA,iBAAO;MAG/DA,4BAAqF;MAAAA,8BAAa;MAAAA,iBAAI;MACtGA,6BAAuE;MAAAA,uBAAM;MAAAA,iBAAI","names":["MyArticlesComponent","constructor","jwtHelper","apiService","router","ngOnInit","token","localStorage","getItem","id","decodeToken","sub","navigate","subscription","getArticlesByAuthor","subscribe","response","articles","data","isUserAuthenticated","isTokenExpired","ngOnDestroy","unsubscribe","selectors","decls","vars","consts","template","i0"],"sourceRoot":"","sources":["/Users/abb/sources/inyakaabraham/Hobby-Project/blogFrontend/src/app/components/my-articles/my-articles.component.ts","/Users/abb/sources/inyakaabraham/Hobby-Project/blogFrontend/src/app/components/my-articles/my-articles.component.html"],"sourcesContent":["import { Component, OnDestroy, OnInit } from '@angular/core';\nimport { JwtHelperService } from '@auth0/angular-jwt';\nimport { ApiService } from 'src/app/services/api.service';\nimport { Subscription } from 'rxjs';\nimport { BlogPost } from 'src/app/models/blogPost';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-my-articles',\n  templateUrl: './my-articles.component.html',\n  styleUrls: ['./my-articles.component.css']\n})\nexport class MyArticlesComponent implements OnInit, OnDestroy {\n  id!:number;\n  name!:string;\n  subscription?: Subscription;\n  articles:BlogPost[]=[];\n\n  constructor(\n    private jwtHelper: JwtHelperService, \n    private apiService:ApiService,\n    private router: Router\n  ) {}\n\n  ngOnInit(){\n    const token = localStorage.getItem(\"jwt\");\n    if (token) {\n      this.id = this.jwtHelper.decodeToken(token).sub;\n    } else {\n      this.router.navigate([\"login\"]);\n    } \n    this.subscription = this.apiService\n    .getArticlesByAuthor(this.id)\n    .subscribe(\n      response => {\n        this.articles = response.data;\n    });\n  }\n\n  isUserAuthenticated() {\n    const token = localStorage.getItem(\"jwt\");\n    if (token && !this.jwtHelper.isTokenExpired(token)) {\n      return true;\n    }\n    else {\n      this.router.navigate([\"login\"]);\n      return false;\n    }\n  }\n\n  ngOnDestroy(): void {\n    if (this.subscription) {\n      this.subscription.unsubscribe();\n    }\n  }\n}\n","<app-nav-bar></app-nav-bar>\n<div>\n<!-- <div *ngIf=\"isUserAuthenticated()\" class=\"bg-black\" >\n    <div *ngFor=\"let article of articles\" class=\"bg-black rounded-md pt-2 lg:py-6\">\n            <div routerLink=\"/article/{{article.postId}}\"\n                class=\"relative overflow-hidden rounded-xl bg-gradient-to-r from-teal-500 to-cyan-600 py-3 px-6 font-medium text-white shadow hover:from-teal-600 hover:to-cyan-700 focus:outline-none focus:ring-2 focus:ring-cyan-400 focus:ring-offset-2 focus:ring-offset-gray-900 py-24 px-8 shadow-2xl lg:grid lg:grid-cols-2 lg:gap-x-8 lg:px-16\">\n                <div class=\"absolute inset-0 opacity-50 mix-blend-multiply saturate-0 filter\">\n                    <img src=\"http://localhost:5259/static/images/{{article.coverImagePath}}\"\n                        alt=\"\" class=\"h-full w-full object-cover\">\n                </div>\n                <div class=\"relative lg:col-span-1\">\n                    <blockquote class=\"mt-6 text-white\">\n                        <p class=\"mt-2 text-3xl font-bold tracking-tight text-white sm:text-2xl\">{{article.title}}\n                        </p>\n                        <footer class=\"mt-6\">\n                            <p class=\"flex flex-col font-medium\">\n                                <span class=\"text-base  text-gray-200 sm:text-xl lg:text-lg xl:text-xl\">{{article.summary}}</span>\n                                <br/>\n                                <span class=\"text-sm font-medium text-white\">Author: {{article.authorsName}}</span>\n                                <span class=\"text-sm font-medium text-white\">Category: {{article.category.categoryName}}</span>\n                                <span class=\"text-sm font-medium text-white\">Tags: {{article.tags}}</span>\n                                <time class=\"text-sm font-medium text-white\">{{article.dateCreated | date : 'dd/MM/yyyy hh:mm a'}}</time>\n                            </p>\n                        </footer>\n                    </blockquote>\n                </div>\n            </div>\n        </div> -->\n        <ul role=\"list\" class=\"grid grid-cols-2 gap-x-4 gap-y-8 sm:grid-cols-3 sm:gap-x-6 lg:grid-cols-4 xl:gap-x-8\">\n            <li class=\"relative\">\n              <div class=\"group aspect-w-10 aspect-h-7 block w-full overflow-hidden rounded-lg bg-gray-100 focus-within:ring-2 focus-within:ring-indigo-500 focus-within:ring-offset-2 focus-within:ring-offset-gray-100\">\n                <img src=\"https://images.unsplash.com/photo-1582053433976-25c00369fc93?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=512&q=80\" alt=\"\" class=\"pointer-events-none object-cover group-hover:opacity-75\">\n                <button type=\"button\" class=\"absolute inset-0 focus:outline-none\">\n                  <span class=\"sr-only\">View details for IMG_4985.HEIC</span>\n                </button>\n              </div>\n              <p class=\"pointer-events-none mt-2 block truncate text-sm font-medium text-gray-900\">IMG_4985.HEIC</p>\n              <p class=\"pointer-events-none block text-sm font-medium text-gray-500\">3.9 MB</p>\n            </li>\n          \n            <!-- More files... -->\n          </ul>\n    </div>\n\n\n\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}