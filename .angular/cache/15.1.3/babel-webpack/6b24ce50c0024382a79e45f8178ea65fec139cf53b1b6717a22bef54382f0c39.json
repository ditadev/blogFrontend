{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@auth0/angular-jwt\";\nimport * as i2 from \"src/app/services/api.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/common\";\nfunction NavBarComponent_div_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 20);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const user_r3 = ctx.ngIf;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" Welcome, \", user_r3.email, \" \");\n  }\n}\nfunction NavBarComponent_h1_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"h1\", 21);\n    i0.ɵɵtext(1, \" TAX AGENCIES\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction NavBarComponent_div_24_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 17)(1, \"button\", 22);\n    i0.ɵɵlistener(\"click\", function NavBarComponent_div_24_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.loginWithRedirect());\n    });\n    i0.ɵɵtext(2, \" GET STARTED\");\n    i0.ɵɵelementEnd()();\n  }\n}\nexport class NavBarComponent {\n  constructor(jwtHelper, apiService, router) {\n    this.jwtHelper = jwtHelper;\n    this.apiService = apiService;\n    this.router = router;\n  }\n  ngOnInit() {\n    this.getUser();\n  }\n  getUser() {\n    const token = localStorage.getItem(\"jwt\");\n    if (token) {\n      this.id = this.jwtHelper.decodeToken(token).sub;\n    } else {\n      console.error(\"No token found in local storage.\");\n    }\n    this.subscription = this.apiService.getUser(this.id).subscribe(response => {\n      this.name = response.data.username;\n      console.log(this.name);\n    });\n  }\n  isUserAuthenticated() {\n    const token = localStorage.getItem(\"jwt\");\n    if (token && !this.jwtHelper.isTokenExpired(token)) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n  logOut() {\n    localStorage.removeItem(\"jwt\");\n    this.router.navigate([\"login\"]);\n  }\n  ngOnDestroy() {\n    if (this.subscription) {\n      this.subscription.unsubscribe();\n    }\n  }\n}\nNavBarComponent.ɵfac = function NavBarComponent_Factory(t) {\n  return new (t || NavBarComponent)(i0.ɵɵdirectiveInject(i1.JwtHelperService), i0.ɵɵdirectiveInject(i2.ApiService), i0.ɵɵdirectiveInject(i3.Router));\n};\nNavBarComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: NavBarComponent,\n  selectors: [[\"app-nav-bar\"]],\n  decls: 28,\n  vars: 9,\n  consts: [[1, \"bg-gray-900\", \"pt-4\"], [\"aria-label\", \"Global\", 1, \"relative\", \"mx-auto\", \"flex\", \"max-w-7xl\", \"items-center\", \"justify-between\", \"px-6\"], [1, \"flex\", \"flex-1\", \"items-center\"], [1, \"flex\", \"w-full\", \"items-center\", \"justify-between\", \"md:w-auto\"], [\"href\", \"#\"], [1, \"sr-only\"], [\"routerLink\", \"\", \"src\", \"./assets/img/Lovepik_com-400262015-green-plants-hand-painted-leaves.png\", \"alt\", \"Writer's Meet Logo\", 1, \"mx-auto\", \"h-20\", \"w-30\"], [1, \"md:flex\", \"md:items-center\", \"md:space-x-6\"], [\"data-darkreader-inline-stroke\", \"\", \"fill\", \"none\", \"stroke\", \"currentColor\", \"stroke-width\", \"1.5\", \"viewBox\", \"0 0 24 24\", \"xmlns\", \"http://www.w3.org/2000/svg\", 1, \"h-9\", \"w-9\", \"pt-2\", \"pb-2\", \"rounded-md\", \"bg-gradient-to-r\", \"from-teal-500\", \"to-cyan-600\", \"text-white\", \"shadow\", \"hover:from-teal-600\", \"hover:to-cyan-700\", \"focus:outline-none\", \"focus:ring-2\", \"focus:ring-cyan-400\", \"focus:ring-offset-2\", \"focus:ring-offset-gray-900\", 3, \"click\"], [\"stroke-linecap\", \"round\", \"stroke-linejoin\", \"round\", \"d\", \"M5.636 5.636a9 9 0 1012.728 0M12 3v9\"], [1, \"text-white\", \"text-center\", \"pr-2\", \"text-sm\", \"font-semibold\", \"text-semibold\"], [1, \"mx-auto\", \"max-w-7xl\", \"py-12\", \"px-4\", \"sm:px-6\", \"lg:flex\", \"lg:items-center\", \"lg:justify-between\", \"lg:py-16\", \"lg:px-8\"], [1, \"text-3xl\", \"font-bold\", \"tracking-tight\", \"text-gray-900\", \"sm:text-4xl\"], [1, \"block\"], [\"class\", \"inline-flex items-center justify-center rounded-md border border-transparent bg-white py-3 text-base font-small\", 4, \"ngIf\"], [1, \"mt-8\", \"flex\", \"lg:mt-0\", \"lg:flex-shrink-0\"], [1, \"inline-flex\", \"rounded-md\", \"shadow\"], [1, \"ml-3\", \"inline-flex\", \"rounded-md\", \"shadow\"], [\"routerLink\", \"/tax-agencies\", \"class\", \"inline-flex items-center justify-center rounded-md border border-transparent bg-white px-5 py-3 text-base font-medium cursor-pointer\", 4, \"ngIf\"], [\"class\", \"ml-3 inline-flex rounded-md shadow\", 4, \"ngIf\"], [1, \"inline-flex\", \"items-center\", \"justify-center\", \"rounded-md\", \"border\", \"border-transparent\", \"bg-white\", \"py-3\", \"text-base\", \"font-small\"], [\"routerLink\", \"/tax-agencies\", 1, \"inline-flex\", \"items-center\", \"justify-center\", \"rounded-md\", \"border\", \"border-transparent\", \"bg-white\", \"px-5\", \"py-3\", \"text-base\", \"font-medium\", \"cursor-pointer\"], [1, \"inline-flex\", \"items-center\", \"justify-center\", \"rounded-md\", \"border\", \"border-transparent\", \"bg-white\", \"px-5\", \"py-3\", \"text-base\", \"font-medium\", 3, \"click\"]],\n  template: function NavBarComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"nav\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"a\", 4)(5, \"span\", 5);\n      i0.ɵɵtext(6, \"Your Company\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(7, \"img\", 6);\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(8, \"div\", 7);\n      i0.ɵɵnamespaceSVG();\n      i0.ɵɵelementStart(9, \"svg\", 8);\n      i0.ɵɵlistener(\"click\", function NavBarComponent_Template__svg_svg_click_9_listener() {\n        return ctx.logOut();\n      });\n      i0.ɵɵelement(10, \"path\", 9);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵnamespaceHTML();\n      i0.ɵɵelementStart(11, \"span\", 10);\n      i0.ɵɵtext(12, \"vhvjhsdvjhsvvjhvsdjhfvsjdhfvsjdhvfjhs \");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(13, \"div\", 11)(14, \"h2\", 12)(15, \"span\", 13);\n      i0.ɵɵtext(16, \"Tax Appointment Scheduler\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(17, NavBarComponent_div_17_Template, 2, 1, \"div\", 14);\n      i0.ɵɵpipe(18, \"async\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(19, \"div\", 15)(20, \"div\", 16)(21, \"div\", 17);\n      i0.ɵɵtemplate(22, NavBarComponent_h1_22_Template, 2, 0, \"h1\", 18);\n      i0.ɵɵpipe(23, \"async\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(24, NavBarComponent_div_24_Template, 3, 0, \"div\", 19);\n      i0.ɵɵpipe(25, \"async\");\n      i0.ɵɵelementStart(26, \"div\", 16);\n      i0.ɵɵelement(27, \"app-authentication-button\");\n      i0.ɵɵelementEnd()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(17);\n      i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(18, 3, ctx.auth.user$));\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(23, 5, ctx.auth.isAuthenticated$) === true);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(25, 7, ctx.auth.isAuthenticated$) === false);\n    }\n  },\n  dependencies: [i4.NgIf, i3.RouterLink, i4.AsyncPipe],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":";;;;;;;IA2BMA,+BAAiK;IAC/JA,YACJ;IAAAA,iBAAM;;;;IADFA,eACJ;IADIA,uDACJ;;;;;IAMMA,8BAC+I;IAC7IA,6BAAY;IAAAA,iBAAK;;;;;;IAErBA,+BAAkG;IACxFA;MAAAA;MAAA;MAAA,OAASA,yCAAmB;IAAA,EAAC;IAEnCA,4BAAW;IAAAA,iBAAS;;;AC/BhC,OAAM,MAAOC,eAAe;EAM1BC,YACUC,SAA2B,EAC3BC,UAAqB,EACrBC,MAAc;IAFd,cAAS,GAATF,SAAS;IACT,eAAU,GAAVC,UAAU;IACV,WAAM,GAANC,MAAM;EACb;EAEHC,QAAQ;IACR,IAAI,CAACC,OAAO,EAAE;EACd;EAEAA,OAAO;IACL,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,KAAK,CAAC;IACzC,IAAIF,KAAK,EAAE;MACT,IAAI,CAACG,EAAE,GAAG,IAAI,CAACR,SAAS,CAACS,WAAW,CAACJ,KAAK,CAAC,CAACK,GAAG;KAChD,MAAM;MACLC,OAAO,CAACC,KAAK,CAAC,kCAAkC,CAAC;;IAEnD,IAAI,CAACC,YAAY,GAAC,IAAI,CAACZ,UAAU,CAACG,OAAO,CAAC,IAAI,CAACI,EAAE,CAAC,CAACM,SAAS,CAACC,QAAQ,IAAE;MACrE,IAAI,CAACC,IAAI,GAACD,QAAQ,CAACE,IAAI,CAACC,QAAQ;MAChCP,OAAO,CAACQ,GAAG,CAAC,IAAI,CAACH,IAAI,CAAC;IACxB,CAAC,CAAC;EACJ;EAEAI,mBAAmB;IACjB,MAAMf,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,KAAK,CAAC;IACzC,IAAIF,KAAK,IAAI,CAAC,IAAI,CAACL,SAAS,CAACqB,cAAc,CAAChB,KAAK,CAAC,EAAE;MAClD,OAAO,IAAI;KACZ,MACI;MACH,OAAO,KAAK;;EAEhB;EAEAiB,MAAM;IACJhB,YAAY,CAACiB,UAAU,CAAC,KAAK,CAAC;IAC9B,IAAI,CAACrB,MAAM,CAACsB,QAAQ,CAAC,CAAC,OAAO,CAAC,CAAC;EACjC;EAEAC,WAAW;IACT,IAAI,IAAI,CAACZ,YAAY,EAAE;MACrB,IAAI,CAACA,YAAY,CAACa,WAAW,EAAE;;EAEnC;;AAhDW5B,eAAe;mBAAfA,eAAe;AAAA;AAAfA,eAAe;QAAfA,eAAe;EAAA6B;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MDX5BlC,8BAA8B;MAKYA,4BAAY;MAAAA,iBAAO;MACzCA,yBAE6B;MACjCA,iBAAI;MAGZA,8BAAmD;MAC/CA,mBAE2D;MAF3DA,8BAE2D;MAFtDA;QAAA,OAASmC,YAAQ;MAAA,EAAC;MAGnBnC,2BAAqG;MACzGA,iBAAM;MAEVA,oBAA+E;MAA/EA,iCAA+E;MAAAA,uDAAsC;MAAAA,iBAAO;MAKpIA,gCAA8G;MAEpFA,0CAAyB;MAAAA,iBAAO;MACpDA,mEAEI;;MACNA,iBAAK;MAELA,gCAAgD;MAG1CA,iEAEmB;;MACrBA,iBAAM;MACNA,mEAIM;;MACNA,gCAA2C;MACzCA,6CAAuD;MACzDA,iBAAM;;;MAnBsHA,gBAAyB;MAAzBA,4DAAyB;MAQ9IA,eAA8C;MAA9CA,gFAA8C;MAI/CA,eAA+C;MAA/CA,iFAA+C","names":["i0","NavBarComponent","constructor","jwtHelper","apiService","router","ngOnInit","getUser","token","localStorage","getItem","id","decodeToken","sub","console","error","subscription","subscribe","response","name","data","username","log","isUserAuthenticated","isTokenExpired","logOut","removeItem","navigate","ngOnDestroy","unsubscribe","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["/Users/abb/sources/inyakaabraham/Hobby-Project/blogFrontend/src/app/components/nav-bar/nav-bar.component.html","/Users/abb/sources/inyakaabraham/Hobby-Project/blogFrontend/src/app/components/nav-bar/nav-bar.component.ts"],"sourcesContent":["<div class=\"bg-gray-900 pt-4\">\n    <nav class=\"relative mx-auto flex max-w-7xl items-center justify-between px-6\" aria-label=\"Global\">\n        <div class=\"flex flex-1 items-center\">\n            <div class=\"flex w-full items-center justify-between md:w-auto\">\n                <a href=\"#\">\n                    <span class=\"sr-only\">Your Company</span>\n                    <img routerLink=\"\" class=\"mx-auto h-20 w-30 \"\n                        src=\"./assets/img/Lovepik_com-400262015-green-plants-hand-painted-leaves.png\"\n                        alt=\"Writer's Meet Logo\">\n                </a>\n            </div>\n        </div>\n        <div class=\" md:flex md:items-center md:space-x-6\">\n            <svg (click)=\"logOut()\" class=\"h-9 w-9 pt-2 pb-2 rounded-md bg-gradient-to-r from-teal-500 to-cyan-600 text-white shadow hover:from-teal-600 hover:to-cyan-700 focus:outline-none focus:ring-2 focus:ring-cyan-400 focus:ring-offset-2 focus:ring-offset-gray-900\"\n                data-darkreader-inline-stroke=\"\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"1.5\"\n                viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M5.636 5.636a9 9 0 1012.728 0M12 3v9\"></path>\n            </svg>\n        </div>\n        <span class=\"text-white text-center pr-2 text-sm font-semibold text-semibold \">vhvjhsdvjhsvvjhvsdjhfvsjdhfvsjdhvfjhs </span>\n        \n    </nav>\n</div>\n\n<div class=\"mx-auto max-w-7xl py-12 px-4 sm:px-6 lg:flex lg:items-center lg:justify-between lg:py-16 lg:px-8\">\n    <h2 class=\"text-3xl font-bold tracking-tight text-gray-900 sm:text-4xl\">\n      <span class=\"block\">Tax Appointment Scheduler</span>\n      <div class=\"inline-flex items-center justify-center rounded-md border border-transparent bg-white py-3 text-base font-small\" *ngIf=\"auth.user$ | async as user\" >\n        Welcome, {{user.email}}\n    </div>\n    </h2>\n    \n    <div class=\"mt-8 flex lg:mt-0 lg:flex-shrink-0\">\n      <div class=\"inline-flex rounded-md shadow\">\n        <div class=\"ml-3 inline-flex rounded-md shadow\">\n          <h1 *ngIf=\"(auth.isAuthenticated$ | async) === true\" routerLink=\"/tax-agencies\"\n            class=\"inline-flex items-center justify-center rounded-md border border-transparent bg-white px-5 py-3 text-base font-medium cursor-pointer\">\n            TAX AGENCIES</h1>\n        </div>\n        <div *ngIf=\"(auth.isAuthenticated$ | async) === false\" class=\"ml-3 inline-flex rounded-md shadow\">\n          <button (click)=\"loginWithRedirect()\"\n            class=\"inline-flex items-center justify-center rounded-md border border-transparent bg-white px-5 py-3 text-base font-medium\">\n            GET STARTED</button>\n        </div>\n        <div class=\"inline-flex rounded-md shadow\">\n          <app-authentication-button></app-authentication-button>\n        </div>\n      </div>\n    </div>\n  </div>","import { Component, OnDestroy, OnInit } from '@angular/core';\nimport { JwtHelperService } from '@auth0/angular-jwt';\nimport { ApiService } from 'src/app/services/api.service';\nimport { Subscription } from 'rxjs';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-nav-bar',\n  templateUrl: './nav-bar.component.html',\n  styleUrls: ['./nav-bar.component.css']\n})\nexport class NavBarComponent implements OnInit, OnDestroy{\n\n  subscription?: Subscription;\n  id!:number;\n  name!:string;\n\n  constructor(\n    private jwtHelper: JwtHelperService, \n    private apiService:ApiService,\n    private router: Router\n  ) {}\n\n  ngOnInit(): void {\n  this.getUser();\n  }\n\n  getUser():void{\n    const token = localStorage.getItem(\"jwt\");\n    if (token) {\n      this.id = this.jwtHelper.decodeToken(token).sub;\n    } else {\n      console.error(\"No token found in local storage.\");\n    }    \n    this.subscription=this.apiService.getUser(this.id).subscribe(response=>{\n      this.name=response.data.username;\n      console.log(this.name);\n    });\n  }\n\n  isUserAuthenticated() {\n    const token = localStorage.getItem(\"jwt\");\n    if (token && !this.jwtHelper.isTokenExpired(token)) {\n      return true;\n    }\n    else {\n      return false;\n    }\n  }\n\n  logOut(){\n    localStorage.removeItem(\"jwt\");\n    this.router.navigate([\"login\"]);\n  }\n\n  ngOnDestroy(): void {\n    if (this.subscription) {\n      this.subscription.unsubscribe();\n    }\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}