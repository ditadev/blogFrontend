{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/api.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nimport * as i5 from \"../nav-bar/nav-bar.component\";\nfunction EditArticleComponent_div_1_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"form\", 2)(2, \"div\", 3)(3, \"div\", 4)(4, \"div\", 4)(5, \"div\", 5)(6, \"label\", 6);\n    i0.ɵɵtext(7, \"Cover photo\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"div\", 7)(9, \"div\", 8)(10, \"div\", 9);\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(11, \"svg\", 10);\n    i0.ɵɵelement(12, \"path\", 11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵnamespaceHTML();\n    i0.ɵɵelementStart(13, \"div\", 12)(14, \"label\", 13)(15, \"span\");\n    i0.ɵɵtext(16, \"Upload a file\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"input\", 14);\n    i0.ɵɵlistener(\"ngModelChange\", function EditArticleComponent_div_1_div_1_Template_input_ngModelChange_17_listener($event) {\n      i0.ɵɵrestoreView(_r5);\n      const article_r1 = i0.ɵɵnextContext().$implicit;\n      return i0.ɵɵresetView(article_r1.coverImagePath = $event);\n    })(\"change\", function EditArticleComponent_div_1_div_1_Template_input_change_17_listener($event) {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r6 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r6.onFileChange($event));\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(18, \"p\", 15);\n    i0.ɵɵtext(19, \"or drag and drop\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(20, \"p\", 16);\n    i0.ɵɵtext(21, \"PNG, JPG, GIF up to 10MB\");\n    i0.ɵɵelementEnd()()()()();\n    i0.ɵɵelementStart(22, \"div\", 5)(23, \"label\", 17);\n    i0.ɵɵtext(24, \"Body\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(25, \"div\", 7)(26, \"textarea\", 18);\n    i0.ɵɵlistener(\"ngModelChange\", function EditArticleComponent_div_1_div_1_Template_textarea_ngModelChange_26_listener($event) {\n      i0.ɵɵrestoreView(_r5);\n      const article_r1 = i0.ɵɵnextContext().$implicit;\n      return i0.ɵɵresetView(article_r1.body = $event);\n    });\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(27, \"div\", 19)(28, \"div\", 4)(29, \"div\", 5)(30, \"label\", 20);\n    i0.ɵɵtext(31, \"Title \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(32, \"div\", 7)(33, \"input\", 21);\n    i0.ɵɵlistener(\"ngModelChange\", function EditArticleComponent_div_1_div_1_Template_input_ngModelChange_33_listener($event) {\n      i0.ɵɵrestoreView(_r5);\n      const article_r1 = i0.ɵɵnextContext().$implicit;\n      return i0.ɵɵresetView(article_r1.title = $event);\n    });\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(34, \"div\", 5)(35, \"label\", 22);\n    i0.ɵɵtext(36, \"Summary\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(37, \"div\", 7)(38, \"textarea\", 23);\n    i0.ɵɵlistener(\"ngModelChange\", function EditArticleComponent_div_1_div_1_Template_textarea_ngModelChange_38_listener($event) {\n      i0.ɵɵrestoreView(_r5);\n      const article_r1 = i0.ɵɵnextContext().$implicit;\n      return i0.ɵɵresetView(article_r1.summary = $event);\n    });\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(39, \"div\", 5)(40, \"label\", 24);\n    i0.ɵɵtext(41, \"Category\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(42, \"div\", 7)(43, \"input\", 25);\n    i0.ɵɵlistener(\"ngModelChange\", function EditArticleComponent_div_1_div_1_Template_input_ngModelChange_43_listener($event) {\n      i0.ɵɵrestoreView(_r5);\n      const article_r1 = i0.ɵɵnextContext().$implicit;\n      return i0.ɵɵresetView(article_r1.category.categoryName = $event);\n    });\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(44, \"div\", 26)(45, \"label\", 27);\n    i0.ɵɵtext(46, \"Tags\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(47, \"div\", 7)(48, \"input\", 28);\n    i0.ɵɵlistener(\"ngModelChange\", function EditArticleComponent_div_1_div_1_Template_input_ngModelChange_48_listener($event) {\n      i0.ɵɵrestoreView(_r5);\n      const article_r1 = i0.ɵɵnextContext().$implicit;\n      return i0.ɵɵresetView(article_r1.tags = $event);\n    });\n    i0.ɵɵelementEnd()()()()()()()()();\n    i0.ɵɵelementStart(49, \"div\", 29);\n    i0.ɵɵlistener(\"click\", function EditArticleComponent_div_1_div_1_Template_div_click_49_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r17 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r17.updateArticle());\n    });\n    i0.ɵɵelementStart(50, \"div\", 30)(51, \"a\", 31);\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(52, \"svg\", 32);\n    i0.ɵɵelement(53, \"path\", 33);\n    i0.ɵɵelementEnd();\n    i0.ɵɵnamespaceHTML();\n    i0.ɵɵelementStart(54, \"span\", 34);\n    i0.ɵɵtext(55, \"Save\");\n    i0.ɵɵelementEnd()()()()();\n  }\n  if (rf & 2) {\n    const article_r1 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(17);\n    i0.ɵɵproperty(\"ngModel\", article_r1.coverImagePath);\n    i0.ɵɵadvance(9);\n    i0.ɵɵproperty(\"ngModel\", article_r1.body);\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"ngModel\", article_r1.title);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngModel\", article_r1.summary);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngModel\", article_r1.category.categoryName);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngModel\", article_r1.tags);\n  }\n}\nfunction EditArticleComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, EditArticleComponent_div_1_div_1_Template, 56, 6, \"div\", 1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const article_r1 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", article_r1.postId == ctx_r0.postId);\n  }\n}\nexport class EditArticleComponent {\n  constructor(apiService, route, router) {\n    this.apiService = apiService;\n    this.route = route;\n    this.router = router;\n    this._postId = this.route.snapshot.paramMap.get('postId');\n    this.postId = parseInt(this._postId);\n    this._showMore = false;\n  }\n  ngOnInit() {\n    this.getArticles();\n    console.log(\"This post id \" + this.postId);\n  }\n  updateArticle() {\n    this.subscription = this.apiService.updateArticle(this.articles.find(obj => {\n      return obj.postId === this.postId;\n    }), this._article).subscribe(response => {\n      console.log(response);\n    });\n  }\n  getArticle() {\n    this.subscription = this.apiService.getArticles().subscribe(response => {\n      this.articles = response.data;\n    });\n  }\n  getArticles() {\n    this.subscription = this.apiService.getArticles().subscribe(response => {\n      this.articles = response.data;\n    });\n  }\n  onFileChange(event) {\n    const reader = new FileReader();\n    if (event.target.files && event.target.files.length) {\n      const [file] = event.target.files;\n      reader.readAsDataURL(file);\n      reader.onload = () => {\n        this.article.coverImagePath = reader.result;\n      };\n    }\n  }\n  ngOnDestroy() {\n    if (this.subscription) {\n      this.subscription.unsubscribe();\n    }\n  }\n}\nEditArticleComponent.ɵfac = function EditArticleComponent_Factory(t) {\n  return new (t || EditArticleComponent)(i0.ɵɵdirectiveInject(i1.ApiService), i0.ɵɵdirectiveInject(i2.ActivatedRoute), i0.ɵɵdirectiveInject(i2.Router));\n};\nEditArticleComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: EditArticleComponent,\n  selectors: [[\"app-edit-article\"]],\n  decls: 2,\n  vars: 1,\n  consts: [[4, \"ngFor\", \"ngForOf\"], [4, \"ngIf\"], [1, \"space-y-8\", \"divide-y\", \"divide-gray-200\"], [1, \"space-y-8\", \"divide-y\", \"divide-gray-200\", \"sm:space-y-5\"], [1, \"space-y-6\", \"sm:space-y-5\"], [1, \"sm:grid\", \"sm:grid-cols-3\", \"sm:items-start\", \"sm:gap-4\", \"sm:border-t\", \"sm:border-gray-200\", \"sm:pt-5\"], [\"for\", \"cover-photo\", 1, \"block\", \"pl-3\", \"pr-3\", \"text-sm\", \"font-medium\", \"text-gray-700\", \"sm:mt-px\", \"sm:pt-2\"], [1, \"mt-1\", \"sm:col-span-2\", \"sm:mt-0\"], [1, \"flex\", \"max-w-lg\", \"justify-center\", \"rounded-md\", \"border-2\", \"border-dashed\", \"border-gray-300\", \"px-6\", \"pt-5\", \"pb-6\"], [1, \"space-y-1\", \"text-center\"], [\"stroke\", \"currentColor\", \"fill\", \"none\", \"viewBox\", \"0 0 48 48\", \"aria-hidden\", \"true\", 1, \"mx-auto\", \"h-12\", \"w-12\", \"text-gray-400\"], [\"d\", \"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02\", \"stroke-width\", \"2\", \"stroke-linecap\", \"round\", \"stroke-linejoin\", \"round\"], [1, \"flex\", \"text-sm\", \"text-gray-600\"], [\"for\", \"file-upload\", 1, \"relative\", \"cursor-pointer\", \"rounded-md\", \"bg-white\", \"font-medium\", \"text-indigo-600\", \"focus-within:outline-none\", \"focus-within:ring-2\", \"focus-within:ring-indigo-500\", \"focus-within:ring-offset-2\", \"hover:text-indigo-500\"], [\"id\", \"file-upload\", \"name\", \"file-upload\", \"type\", \"file\", 1, \"sr-only\", 3, \"ngModel\", \"ngModelChange\", \"change\"], [1, \"pl-1\"], [1, \"text-xs\", \"text-gray-500\"], [\"for\", \"about\", 1, \"block\", \"pl-3\", \"pr-3\", \"text-sm\", \"font-medium\", \"text-gray-700\", \"sm:mt-px\", \"sm:pt-2\"], [\"id\", \"about\", \"name\", \"about\", \"rows\", \"3\", 1, \"block\", \"w-full\", \"max-w-lg\", \"rounded-md\", \"border-gray-300\", \"shadow-sm\", \"focus:border-indigo-500\", \"focus:ring-indigo-500\", \"pt-1\", \"pr-1\", \"pl-1\", \"sm:text-sm\", 3, \"ngModel\", \"ngModelChange\"], [1, \"space-y-6\", \"pt-8\", \"sm:space-y-5\", \"sm:pt-10\"], [\"for\", \"first-name\", 1, \"block\", \"pl-3\", \"pr-3\", \"text-sm\", \"font-medium\", \"text-gray-700\", \"sm:mt-px\", \"sm:pt-2\"], [\"type\", \"text\", \"name\", \"title\", \"id\", \"first-name\", 1, \"block\", \"w-full\", \"max-w-lg\", \"rounded-md\", \"border-gray-300\", \"shadow-sm\", \"focus:border-indigo-500\", \"focus:ring-indigo-500\", \"pl-1\", \"pr-1\", \"pt-3\", \"pb-3\", \"sm:text-sm\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"street-address\", 1, \"block\", \"pl-3\", \"pr-3\", \"text-sm\", \"font-medium\", \"text-gray-700\", \"sm:mt-px\", \"sm:pt-2\"], [\"type\", \"text\", \"name\", \"summary\", \"id\", \"street-address\", 1, \"block\", \"w-full\", \"max-w-lg\", \"rounded-md\", \"border-gray-300\", \"shadow-sm\", \"pt-1\", \"focus:border-indigo-500\", \"focus:ring-indigo-500\", \"pl-1\", \"pr-1\", \"sm:text-sm\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"last-name\", 1, \"block\", \"pl-3\", \"pr-3\", \"text-sm\", \"font-medium\", \"text-gray-700\", \"sm:mt-px\", \"sm:pt-2\"], [\"type\", \"text\", \"name\", \"category\", \"id\", \"last-name\", 1, \"block\", \"w-full\", \"max-w-lg\", \"rounded-md\", \"border-gray-300\", \"shadow-sm\", \"focus:border-indigo-500\", \"focus:ring-indigo-500\", \"pl-1\", \"pr-1\", \"pt-3\", \"pb-3\", \"sm:text-sm\", 3, \"ngModel\", \"ngModelChange\"], [1, \"sm:grid\", \"sm:grid-cols-3\", \"sm:items-start\", \"pb-4\", \"sm:gap-4\", \"sm:border-t\", \"sm:border-gray-200\", \"sm:pt-5\"], [\"for\", \"email\", 1, \"block\", \"text-sm\", \"pl-3\", \"pr-3\", \"font-medium\", \"text-gray-700\", \"sm:mt-px\", \"sm:pt-2\"], [\"type\", \"text\", 1, \"block\", \"w-full\", \"max-w-lg\", \"rounded-md\", \"border-gray-300\", \"shadow-sm\", \"focus:border-indigo-500\", \"pl-1\", \"pr-1\", \"pt-3\", \"pb-3\", \"focus:ring-indigo-500\", \"sm:text-sm\", 3, \"ngModel\", \"ngModelChange\"], [1, \"ml-3\", \"mr-3\", \"block\", \"w-96\", \"max-w-lg\", \"rounded-lg\", \"flex\", \"divide-x\", \"divide-gray-200\", \"bg-gradient-to-r\", \"from-teal-500\", \"to-cyan-600\", \"text-white\", \"shadow\", \"hover:from-teal-600\", \"hover:to-cyan-700\", \"focus:outline-none\", \"focus:ring-2\", \"focus:ring-cyan-400\", \"focus:ring-offset-2\", \"focus:ring-offset-gray-900\", 3, \"click\"], [1, \"flex\", \"w-0\", \"flex-1\"], [1, \"relative\", \"-mr-px\", \"inline-flex\", \"w-0\", \"flex-1\", \"items-center\", \"justify-center\", \"rounded-bl-lg\", \"border\", \"border-transparent\", \"py-4\", \"text-sm\", \"font-medium\", \"text-gray-700\", \"hover:text-gray-500\"], [\"data-darkreader-inline-stroke\", \"\", \"fill\", \"none\", \"stroke\", \"currentColor\", \"stroke-width\", \"1.5\", \"viewBox\", \"0 0 24 24\", \"xmlns\", \"http://www.w3.org/2000/svg\", \"aria-hidden\", \"true\", 1, \"-ml-1\", \"mr-2\", \"h-5\", \"w-5\"], [\"stroke-linecap\", \"round\", \"stroke-linejoin\", \"round\", \"d\", \"M3.75 9.776c.112-.017.227-.026.344-.026h15.812c.117 0 .232.009.344.026m-16.5 0a2.25 2.25 0 00-1.883 2.542l.857 6a2.25 2.25 0 002.227 1.932H19.05a2.25 2.25 0 002.227-1.932l.857-6a2.25 2.25 0 00-1.883-2.542m-16.5 0V6A2.25 2.25 0 016 3.75h3.879a1.5 1.5 0 011.06.44l2.122 2.12a1.5 1.5 0 001.06.44H18A2.25 2.25 0 0120.25 9v.776\"], [1, \"ml-3\"]],\n  template: function EditArticleComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelement(0, \"app-nav-bar\");\n      i0.ɵɵtemplate(1, EditArticleComponent_div_1_Template, 2, 1, \"div\", 0);\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngForOf\", ctx.articles);\n    }\n  },\n  dependencies: [i3.NgForOf, i3.NgIf, i4.ɵNgNoValidate, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.NgModel, i4.NgForm, i5.NavBarComponent],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","EditArticleComponent","constructor","apiService","route","router","snapshot","paramMap","get","parseInt","_postId","ngOnInit","getArticles","console","log","postId","updateArticle","subscription","articles","find","obj","_article","subscribe","response","getArticle","data","onFileChange","event","reader","FileReader","target","files","length","file","readAsDataURL","onload","article","coverImagePath","result","ngOnDestroy","unsubscribe","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["/Users/abb/sources/inyakaabraham/Hobby-Project/blogFrontend/src/app/components/edit-article/edit-article.component.html","/Users/abb/sources/inyakaabraham/Hobby-Project/blogFrontend/src/app/components/edit-article/edit-article.component.ts"],"sourcesContent":["<app-nav-bar></app-nav-bar>\n<div *ngFor=\"let article of articles\">\n    <div *ngIf=\"article.postId==postId\">\n        <form class=\"space-y-8 divide-y divide-gray-200\">\n            <div class=\"space-y-8 divide-y divide-gray-200 sm:space-y-5\">\n                <div class=\"space-y-6 sm:space-y-5\">\n\n                    <div class=\"space-y-6 sm:space-y-5\">\n\n                        <div\n                            class=\"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4 sm:border-t sm:border-gray-200 sm:pt-5\">\n                            <label for=\"cover-photo\"\n                                class=\"block pl-3 pr-3 text-sm font-medium text-gray-700 sm:mt-px sm:pt-2\">Cover\n                                photo</label>\n                            <div class=\"mt-1 sm:col-span-2 sm:mt-0\">\n                                <div\n                                    class=\"flex max-w-lg justify-center rounded-md border-2 border-dashed border-gray-300 px-6 pt-5 pb-6\">\n                                    <div class=\"space-y-1 text-center\">\n                                        <svg class=\"mx-auto h-12 w-12 text-gray-400\" stroke=\"currentColor\" fill=\"none\"\n                                            viewBox=\"0 0 48 48\" aria-hidden=\"true\">\n                                            <path\n                                                d=\"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02\"\n                                                stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" />\n                                        </svg>\n                                        <div class=\"flex text-sm text-gray-600\">\n                                            <label for=\"file-upload\"\n                                                class=\"relative cursor-pointer rounded-md bg-white font-medium text-indigo-600 focus-within:outline-none focus-within:ring-2 focus-within:ring-indigo-500 focus-within:ring-offset-2 hover:text-indigo-500\">\n                                                <span>Upload a file</span>\n                                                <input [(ngModel)]=\"article.coverImagePath\" (change)=\"onFileChange($event)\" id=\"file-upload\" name=\"file-upload\" type=\"file\" class=\"sr-only\">\n                                            </label>\n                                            <p class=\"pl-1\">or drag and drop</p>\n                                        </div>\n                                        <p class=\"text-xs text-gray-500\">PNG, JPG, GIF up to 10MB</p>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n\n\n                        <div\n                            class=\"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4 sm:border-t sm:border-gray-200 sm:pt-5\">\n                            <label for=\"about\"\n                                class=\"block pl-3 pr-3 text-sm font-medium text-gray-700 sm:mt-px sm:pt-2\">Body</label>\n                            <div class=\"mt-1 sm:col-span-2 sm:mt-0\">\n                                <textarea [(ngModel)]=\"article.body\" id=\"about\" name=\"about\" rows=\"3\"\n                                    class=\"block w-full max-w-lg rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 pt-1 pr-1 pl-1 sm:text-sm\"></textarea>\n                                <!-- <p class=\"mt-2 text-sm text-gray-500\">Write a few sentences about yourself.</p>  -->\n                            </div>\n                        </div>\n                        <div class=\"space-y-6 pt-8 sm:space-y-5 sm:pt-10\">\n\n                            <div class=\"space-y-6 sm:space-y-5\">\n                                <div\n                                    class=\"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4 sm:border-t sm:border-gray-200 sm:pt-5\">\n                                    <label for=\"first-name\"\n                                        class=\"block pl-3 pr-3 text-sm font-medium text-gray-700 sm:mt-px sm:pt-2\">Title\n                                    </label>\n                                    <div class=\"mt-1 sm:col-span-2 sm:mt-0\">\n                                        <input [(ngModel)]=\"article.title\" type=\"text\" name=\"title\" id=\"first-name\"\n                                            class=\"block w-full max-w-lg rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 pl-1 pr-1 pt-3 pb-3 sm:text-sm\">\n                                    </div>\n                                </div>\n\n                                <div\n                                    class=\"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4 sm:border-t sm:border-gray-200 sm:pt-5\">\n                                    <label for=\"street-address\"\n                                        class=\"block pl-3 pr-3 text-sm font-medium text-gray-700 sm:mt-px sm:pt-2\">Summary</label>\n                                    <div class=\"mt-1 sm:col-span-2 sm:mt-0\">\n                                        <textarea [(ngModel)]=\"article.summary\" type=\"text\" name=\"summary\" id=\"street-address\"\n                                            class=\"block w-full max-w-lg rounded-md border-gray-300 shadow-sm pt-1 focus:border-indigo-500 focus:ring-indigo-500 pl-1 pr-1 sm:text-sm\"></textarea>\n                                    </div>\n                                </div>\n\n                                <div\n                                    class=\"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4 sm:border-t sm:border-gray-200 sm:pt-5\">\n                                    <label for=\"last-name\"\n                                        class=\"block pl-3 pr-3 text-sm font-medium text-gray-700 sm:mt-px sm:pt-2\">Category</label>\n                                    <div class=\"mt-1 sm:col-span-2 sm:mt-0\">\n                                        <input [(ngModel)]=\"article.category.categoryName\" type=\"text\" name=\"category\" id=\"last-name\"\n                                            class=\"block w-full max-w-lg rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 pl-1 pr-1 pt-3 pb-3 sm:text-sm\">\n                                    </div>\n                                </div>\n\n                                <div\n                                    class=\"sm:grid sm:grid-cols-3 sm:items-start pb-4 sm:gap-4 sm:border-t sm:border-gray-200 sm:pt-5\">\n                                    <label for=\"email\"\n                                        class=\"block text-sm pl-3 pr-3 font-medium text-gray-700 sm:mt-px sm:pt-2\">Tags</label>\n                                    <div class=\"mt-1 sm:col-span-2 sm:mt-0\">\n                                        <input [(ngModel)]=\"article.tags\" type=\"text\"\n                                            class=\"block w-full max-w-lg rounded-md border-gray-300 shadow-sm focus:border-indigo-500 pl-1 pr-1 pt-3 pb-3 focus:ring-indigo-500 sm:text-sm\">\n                                    </div>\n                                </div>\n\n\n                            </div>\n                        </div>\n\n                    </div>\n                </div>\n            </div>\n        </form>\n\n        <div (click)=\"updateArticle()\"\n            class=\" ml-3 mr-3 block w-96 max-w-lg rounded-lg flex divide-x divide-gray-200 bg-gradient-to-r from-teal-500 to-cyan-600 text-white shadow hover:from-teal-600 hover:to-cyan-700 focus:outline-none focus:ring-2 focus:ring-cyan-400 focus:ring-offset-2  focus:ring-offset-gray-900\">\n            <div class=\"flex w-0 flex-1\">\n                <a\n                    class=\"relative -mr-px inline-flex w-0 flex-1 items-center justify-center rounded-bl-lg border border-transparent py-4 text-sm font-medium text-gray-700 hover:text-gray-500\">\n                    <svg class=\"-ml-1 mr-2 h-5 w-5 \" data-darkreader-inline-stroke=\"\" fill=\"none\" stroke=\"currentColor\"\n                        stroke-width=\"1.5\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\" aria-hidden=\"true\">\n                        <path stroke-linecap=\"round\" stroke-linejoin=\"round\"\n                            d=\"M3.75 9.776c.112-.017.227-.026.344-.026h15.812c.117 0 .232.009.344.026m-16.5 0a2.25 2.25 0 00-1.883 2.542l.857 6a2.25 2.25 0 002.227 1.932H19.05a2.25 2.25 0 002.227-1.932l.857-6a2.25 2.25 0 00-1.883-2.542m-16.5 0V6A2.25 2.25 0 016 3.75h3.879a1.5 1.5 0 011.06.44l2.122 2.12a1.5 1.5 0 001.06.44H18A2.25 2.25 0 0120.25 9v.776\">\n                        </path>\n                    </svg>\n                    <span class=\"ml-3\">Save</span>\n                </a>\n            </div>\n        </div>\n    </div>\n</div>","import { Component, OnDestroy, OnInit } from '@angular/core';\nimport { ApiService } from 'src/app/services/api.service';\nimport { Subscription } from 'rxjs';\nimport { ActivatedRoute } from '@angular/router';\nimport { BlogPost } from 'src/app/models/blogPost';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-edit-article',\n  templateUrl: './edit-article.component.html',\n  styleUrls: ['./edit-article.component.css']\n})\nexport class EditArticleComponent implements OnInit, OnDestroy{\n\n  subscription?: Subscription;\n  _postId = this.route.snapshot.paramMap.get('postId')!;\n  articles!: BlogPost[] ;\n  postId:number=parseInt(this._postId);\n  _showMore:boolean=false;\n_article!:BlogPost;\n\n  constructor(\n    private apiService: ApiService,\n    private route: ActivatedRoute,\n    private router: Router\n\n  ) {}\n\n  ngOnInit(): void {\n    this.getArticles(); \n    console.log(\"This post id \"+this.postId);\n  }\n\n  updateArticle(){\n    this.subscription =this.apiService.updateArticle(this.articles.find((obj)=>{return obj.postId===this.postId}),this._article).subscribe(response => {\n      console.log(response);\n})\n  }\n\n  getArticle(){\n    this.subscription = this.apiService\n    .getArticles()\n    .subscribe(\n      response => {\n        this.articles = response.data;\n    });\n  }\n\n  getArticles(): void {\n    this.subscription = this.apiService\n    .getArticles()\n    .subscribe(\n      response => {\n        this.articles = response.data;\n    });\n  }\n\n  onFileChange(event:Event) {\n    const reader = new FileReader();\n    if (event.target.files && event.target.files.length) {\n      const [file] = event.target.files;\n      reader.readAsDataURL(file);\n  \n      reader.onload = () => {\n        this.article.coverImagePath = reader.result as string;\n      };\n    }\n  }\n\n  ngOnDestroy(): void {\n    if (this.subscription) {\n      this.subscription.unsubscribe();\n    }\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}